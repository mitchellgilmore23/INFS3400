using System;
using static System.Console;
using System.Globalization;
using System.IO;
class FindPatientRecords{
   static void Main(){
      const string filePath = "Patients.txt";

      if (!File.Exists(filePath)){
         Console.WriteLine("The file does not exist.");
         return;
      }

      Console.Write("Enter patient ID number to find >> ");
      string searchId = Console.ReadLine();

      bool recordFound = false;

      using (StreamReader reader = new StreamReader(filePath)){
         string line;
         while ((line = reader.ReadLine()) != null){
            string[] data = line.Split(',');
            if (data.Length == 3 && data[0].Equals(searchId, StringComparison.OrdinalIgnoreCase)){
               string idNum = data[0];
               string name = data[1];
               if (double.TryParse(data[2], NumberStyles.Currency, CultureInfo.GetCultureInfo("en-US"), out double balance)){
                  Console.WriteLine("\nID Number Name                 Balance");
                  Console.WriteLine($"{idNum.PadRight(10)}{name.PadRight(20)}{balance.ToString("C", CultureInfo.GetCultureInfo("en-US"))}");
                  recordFound = true;
                  break;
               }
            }
         }
      }
      if (!recordFound) Console.WriteLine($"\nNo records found for {searchId}");
   }
}
